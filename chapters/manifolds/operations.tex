%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	We need to let a manifold with corners (after handle attachment)
%	exist in order to describe the events of chapter 3 with any kind
%	of clarity.
%	
%	This can be done by refusing to smooth after attachment.	
%
%	We must also describe surgery on the boundary induced by attachment.
%
%	After that, we want to add more handles.  We can't limit ourselves to maps from smooth things into the boundary.
%\begin{rmk}
%	\label{rmk:corners}
%	There is more than one way to define handle attachment, and we choose to do so in a way that feels combinatorial in nature.
%	The main concern with this approach is that the object resulting from handle attachment is a manifold with corners rather than a smooth manifold.
%	There are arguments that the corners can be smoothed away in such a way that a manifold obtained via handle attachment is smooth and unique up to diffeomorphism.
%	Delving into such an argument at this point would be a distraction.	
%	A construction that does not require the smoothing of corners can be found in \cite{Kosi93}, but the machinery makes explicit handle attachment unnecessarily complicated.
%\end{rmk}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

We construct manifolds in later chapters mainly by gluing simpler manifolds together.
These operations include handle attachment and connected sum, special cases of the general construction of joining two manifolds along a submanifold.
Special attention is given to the definitions and results needed to meaningfully attach 1-- and 2--handles to a 4--manifold.

There is a common tool in topology called the \emph{attaching map} that we use in this section and the next to build our machinery.
We take this opportunity to lay out the definition and notation.

\begin{defn}
  Let $X$ and $Y$ be topological spaces, $A\subset X$ a subspace, and $f:A\to Y$ a continuous map.
  We define a relation $\sim$ by putting $f(x)\sim x$ for every $x$ in $A$.
  Denote the quotient space $X\sqcup Y/\sim$ by $X\cup_f Y$.
  We call the map $f$ the \emph{attaching map}.  
  We say that $X$ is \emph{attached} or \emph{glued} to $Y$ over $A$.
  A space obtained through attachment is called an \emph{adjunction space} or \emph{attachment space}.
  
  Alternatively, we let $A$ be a topological space and let $i_X:A\to X$, $i_Y:A\to Y$ be inclusions.
  Here, the adjunction is formed by taking $i_X(a)\sim i_Y(a)$ for every $a\in A$ and we denote the adjunction space by $X\cup_A Y$.
\end{defn}

Our first application of adjunction is in the connected sum operation.

\begin{defn}
	Let $M$ and $X$ be closed, oriented $n$--manifolds.
	The manifold obtained by identifying the boundary $(n-1)$--spheres of $M\setminus\B^n$ and $X\setminus\B^n$ in an orientation reversing way is called the \emph{connected sum} of $M$ and $X$ and is denoted $M\# X$.
	Symbolically,
	\[
		M\# X = (M\setminus B^n)\cup_f (X\setminus B^n)
	\]
	where $f$ is any diffeomorphism $S^n\to S^n$.
\end{defn}

\begin{prop}[VI.1.1 of \cite{Kosi93}]
	Connected sum is a well defined operation up to diffeomorphism on the space of closed, oriented $n$--manifolds with identity element $S^n$.
\end{prop}

We present handle attachment in its standard form before delving into the cases involving manifolds with faces.
When discussing handles we have $n=\lambda+\mu$, $M$ a smooth $n$--manifold with nonempty $\pd_1 M$ and $\pd_j M=\emptyset$ for $j>1$, and $H^\lambda = \D^\lambda\times\D^\mu$.
Handle attachment is the process of joining $M$ and $H^\lambda$ along an embedding of $\pd\D^\lambda\times\D^\mu$ into $\pd M$.

\begin{defn}[Handle]
	\label{def:handle}
	Take $n=\lambda+\mu$ and $M$ a smooth $n$--manifold with nonempty $\pd_1 M$.
	%	 and $\pd_j M=\emptyset$ for $j>1$
	Let $\varphi:\pd\D^\lambda\times\D^\mu\to\pd_1 M$ be an embedding and an attaching map between $M$ and $H^\lambda$.
	The attached space $H^\lambda$ is an \emph{$n$--dimensional $\lambda$--handle}, and $M\cup_\varphi H^\lambda$ is the result of an $n$--dimensional \emph{$\lambda$--handle attachment}.
\end{defn}

\begin{prop}
	\label{prop:handle}
	Let $M'=M\cup_\varphi H^\lambda$ be the result of an $n$--dimensional $\lambda$--handle attachment.
	Then $M'$ is a smooth $n$--manifold with faces, the 1--boundary of $M'$ consists of $\pd M\setminus\varphi(\pd\D^\lambda\times\D^\mu)$ and $\D^\lambda\times\pd\D^\mu$, the 2--boundary consists of $\varphi(\pd\D^\lambda\times\pd\D^\mu)$, and $\pd_j$ is empty for $j>2$.
\end{prop}

Our results regarding attaching manifolds over faces are found in \cite{JSP}.
They tell us that manifolds can be attached over faces, the attachment space is a manifold with faces, and the faces of the attachment space are well defined.

\begin{prop}
	\label{prop:addface}
	Let $X$ and $X'$ be smooth $n$--manifolds with faces, let $F$ be a manifold with faces, and let $\iota:F\to X$ and $\iota':F\to X'$ be inclusion maps such that $\iota(F)$ is a face of $X$ and $\iota'(F)$ is a face of $X'$.
	Then the adjunction $X\cup_F X'$ is a smooth $n$--manifold with faces.
	
	For each $j$, the $j$--boundary of $X\cup_F X'$ is decomposed into the $j$--boundary of $X$ minus the image of $F$ in $X$, the $j$--boundary of $X'$ minus the image of $F$ in $X'$, and the $j$--boundary of $F$ seen as a subset of $X\cup_F X'$.
	Symbolically, this is $$\pd_j( X \cup_F X') = (\pd_j X\setminus \iota(F))\cup(\pd_j X'\setminus \iota'(F))\cup(\pd_j F).$$
\end{prop}

The following proof is an adaptation from \cite{davis}
%\{ASIDE FOR EDITING:  The following proof is based on some informal notes by Jim Davis found \href{http://www.indiana.edu/~jfdavis/notes/m623/smooth_structures_and_handles.pdf}{here}. Is this even citable?\}

\begin{proof}
	To prove this proposition we put a smooth structure on $X\cup_F X'$ so that if $x\in F$ is a $j$--corner then $\iota(x)\sim \iota'(F)\in X\cup_F X'$ is a $j$--corner as well.
	We first decompose $X$ into the triad $X=(X;K,M)$ where
	\begin{enumerate}
		\item $K=\iota(F)$,
		\item $M\cup K=\pd X$, and
		\item $M\cap K=\pd K = \pd M =\iota(\pd F)$.
	\end{enumerate}
	We do the same, respectively, to $X'=(X';K',M')$.
	
	Let $\psi:K\times\HH\to X$ and $\psi':K'\times\HH \to X'$ be collars of $K$ and $K'$ in $X$ and $X'$.
	Also take
	\[
		\begin{array}{lrcl}
			\varphi_K:&
			\pd F\times\HH&
			\to&
			K\\
			\varphi_M:&
			\pd F\times\HH&
			\to&
			M\\
			\varphi_K':&
			\pd F\times\HH&
			\to&
			K'\\
			\varphi_M':&
			\pd F\times\HH&
			\to&
			M'\\		
		\end{array}
	\]
	to be collars of $\pd K$ and $\pd K'$ in their respective codomains, ensuring that 
	\[
		\iota\inv\comp \varphi_K = (\iota')\inv\comp \varphi_K'.
	\]
	Defining
	\[
		\begin{array}{rcl}
			X\setminus K	&	\into	& 	X\cup_F X', \textrm{ and}	\\
			X'\setminus K'	&	\into	&	X\cup_F X'		
		\end{array}
	\]
	by inclusion, and
	\[
		\begin{array}{crcl}
			\Psi:&(F\setminus\pd F)\times\R&\into&X\cup_F X'\\
			\Phi:&(\pd F)\times\R\times\HH&\into&X\cup_F X'		
		\end{array}
	\]
	by
	\[
		\Psi(x,t)=
		\begin{cases}
			\psi(\iota(x),t),		& 	\mbox{if } t\geq 0 \\
			\psi'(\iota'(x),-t),	&	\mbox{if } t\leq 0
		\end{cases}	
	\]
	and
	\[
		\Phi(x,r\cos\theta,r\sin\theta)=
		\begin{cases}
			\psi(\varphi_M(x,r\cos(2\theta)),r\sin(2\theta))
				&	\mbox{if } \theta\in[\,0,\pi/4\,]		\\
			\psi(\varphi_K(x,-r\cos(2\theta)),r\sin(2\theta))
				&	\mbox{if } \theta\in[\,\pi/4,2\pi/4\,]	\\
			\psi'(\varphi'_K(x,-r\cos(2\theta)),-r\sin(2\theta))				
				&	\mbox{if } \theta\in[\,2\pi/4,3\pi/4\,]	\\
			\psi'(\varphi'_M(x,r\cos(2\theta)),-r\sin(2\theta))				
				&	\mbox{if } \theta\in[\,3\pi/4,4\pi/4\,]
		\end{cases}	
	\]
	gives $X\cup_F X'$ a smooth structure induced by the open cover
	\[
		X\cup_F X'=(X\setminus K)\cup(X'\setminus K')\cup\Psi((F\setminus\pd F)\times\R)\cup	\Phi((\pd F)\times\R\times\HH).
	\]
	In this open cover, the $j$--corners of $\iota(F)=\iota'(F)$, $j\geq 1$, appear only as $j$--corners of $\Phi((\pd F)\times\R\times\HH)$, hence they are $j$--corners in $X\cup_F X'$, thus the proposition is proved.
\end{proof}

\begin{cor}
	\label{cor:addfaces}
	Let $X$, $X'$ be manifolds with faces and let $F_1,\dots, F_k$ be faces of $X$ such that $F_i\cap F_j$ is a face of $F_i$ and $F_j$ for every $i\neq j$.
	Let ${\bf F}=\cup_i F_i$ and let $\varphi:{\bf F}\to \pd X'$ be an embedding such that $\varphi(F_i)$ is a face of $X'$ for each $i$.
	Then the adjunction $X \cup_{\bf F} X'$ is a smooth manifold with faces.
		
	If $p$ is a $j$--corner of $X$, $j\geq 0$, and $k$ is the number of faces in ${\bf F}$ that contain $p$, then $p$ is a $(j-k)$--corner of $X\cup_{\bf F} X'$.
	Similarly, if $p$ is a $j$--corner of $X'$, $j\geq 0$, and $k$ is the number of faces in $\varphi({\bf F})$ that contain $p$, then $p$ is a $(j-k)$--corner of $X\cup_{\bf F} X'$.
\end{cor}

\begin{figure}[H]
	\centering
	\caption{Attaching two copies of $\D^2\times\I$ together.}
	\includegraphics[height=3in]{figures/dummy.jpg}
	\label{fig:DxIuDxI}
\end{figure}

The following examples illustrate the changes that occur in the boundary of a 4--manifold with faces when we perform the cornered version of a handle attachment.
Such operations are used extensively in Section~\ref{sec:3bound4}.

\begin{ex}
	\label{ex:DxIuDxI}
	Let $X$ and $Y$ each be copies of $\DD\times\I$.
	Include the face $F=S^1\times\I$ into $X$ as
	\[
	x:F= S^1\times\I\into S^1\times\I=\pd \DD \times\I\subset \pd X,
	\]
	with a similar map $y$ including $F$ into $Y$.
	We immediately deduce that the adjunction $X\cup_F Y$ is exactly $S^2\times\I$.
	See Figure~\ref{fig:DxIuDxI}
\end{ex}

\begin{ex}
	\label{ex:AxIuDxI}
	Let $X=S^1\times\I\times\I$ and $Y=\DD\times\I$.
	Include the face $F=S^1\times\I$ into $X$ as
	\[
		x:F= S^1\times\I \into S^1\times\I=S^1 \times\I\times\{1\}\subset \pd X,
	\]
	and into $Y$ as
	\[
		y:F= S^1\times\I\into S^1\times\I=\pd \DD \times\I\subset \pd Y.
	\]
	The adjunction $X\cup_F Y$ forms $\DD\times\I$.
	See Figure~\ref{fig:AxIuDxI}
\end{ex}

\begin{figure}[H]
	\centering
	\caption{Attaching $S^1\times\I\times\I$ to $\D^2\times\I$.}
	\includegraphics[height=3in]{figures/dummy.jpg}
	\label{fig:AxIuDxI}
\end{figure}

\begin{ex}
	\label{ex:PxIuDxI}
	Let $P$ be a pants surface and take $X=P\times\I$ with faces $P\times\{\pm 1\}$ and $\pd P\times\I$ (three copies of $S^1\times \I$).
	Let $Y=\DD\times\I$.
	
	Include the face $F=S^1\times\I$ into $X$ over one of its annular boundary components and into $Y$ over its only annular boundary component.
	Then the adjunction $X\cup_F Y$ is $ S^1\times\I\times\I $.
	See Figure~\ref{fig:PxIuDxI}
\end{ex}

\begin{figure}[H]
	\centering
	\caption{Attaching a pair of pants crossed with an interval to $\D^2\times\I$.}
	\includegraphics[height=3in]{figures/dummy.jpg}
	\label{fig:PxIuDxI}
\end{figure}

The pattern established continues when the cylindrical blocks fill in 3--manifolds over annular boundary components.
We examine two more specific cases of this that are relevant in Section~\ref{sec:3bound4}.

\begin{ex}
	\label{ex:interactivefiber1uDxI}
	Let $H$ be the 3--manifold illustrated in Figure~\ref{fig:interactivefiber1uDxI}.
	The 
	
\end{ex}

\begin{figure}[H]
	\centering
	\caption{Attaching cylindrical blocks over annular boundary components.
	The 3--manifold is illustrated by its boundary which is embedded in $S^3$, realized as the one point compactification of $ \R^3 $.
	The 3--manifold is the solid containing the point at infinity, and cylindrical blocks are attached over the highlighted annuli.}
	\includegraphics[height=3in]{figures/dummy.jpg}
	\label{fig:interactivefiber1uDxI}
\end{figure}



\begin{ex}
	\label{ex:handlesphere}
	We first see an example of Proposition~\ref{prop:handle}.
	Let $V$ be a 3--dimensional solid torus (i.e.\ $V=\D^2\times S^1$) and recall that a 3--dimensional 2--handle has the form $H^2=\D^2\times\D^1$.
	Let $\varphi$ be 2--handle attachment map defined by
	\[
		\begin{array}{rrcl}
			\varphi:	&	\pd\D^2\times\D^1	&	\to		&	\pd\D^2\times S^1=\pd V	\\
						&	(e^{i\theta},t)		&	\mapsto	&	(e^{i\theta},e^{\pi it/2}).
		\end{array}
	\]
	The 3-manifold $V\cup_{\varphi}H^1$ that results from this handle attachment has one boundary component.
	It consists of the faces $\D^2\times\{e^{i\pi/2}\}$, $\D^2\times\{e^{-i\pi/2}\}$, and $\pd\D^2\times[e^{i\pi/2},e^{-i\pi/2}]$, where we use $[e^{i\pi/2},e^{-i\pi/2}]$ to denote the oriented arc in $S^1$, orientation agreeing with that of $S^1$, from the angle $\theta=\pi/2$ to $\theta=-\pi/2$.
	
	Next, we use Corollary~\ref{cor:addfaces} and add a copy of $D^2\times\D^1$ to $V\cup_{\varphi}H^1$.
	We define an attachment map $\psi$ on $\pd(\D^2\times\D^1)$ piecewise by
	\[
		\begin{array}{rccl}
			\restr{\psi}{S^1\times\D^1}:
				&	S^1\times\D^1
				&	\to	
				&	\pd (V\cup_\varphi H^1)			\\
			
				&	(e^{i\theta},t)
				&	\mapsto
				&	(e^{i\theta},e^{\pi i(t+2)/2}),	\\

			\restr{\psi}{\D^2\times\{-1\}}:
				&	\D^2\times\{-1\}
				&	\to	
				&	\pd (V\cup_\varphi H^1)			\\
				
				&	(re^{i\theta},-1)
				&	\mapsto
				&	(re^{i\theta},e^{\pi i/2}),		\\
				
			\restr{\psi}{\D^2\times\{1\}}:
				&	\D^2\times\{1\}
				&	\to	
				&	\pd (V\cup_\varphi H^1)			\\
				
				&	(re^{i\theta},1)
				&	\mapsto
				&	(re^{i\theta},e^{-\pi i/2}).
		\end{array}
	\]
	The resulting 3--manifold $(V\cup_\varphi H^1)\cup_\psi (D^2\times\D^1)$ is smooth and closed.	
\end{ex}

The 3--manifold found in Example~\ref{ex:handlesphere} is $S^3$.
We spend the remainder of this section developing tools that help classify the manifolds that arise from our operations.

Put $n=\mu+\lambda$, recall that $H^\lambda=D^\lambda\times\D^\mu$, let $M$ be an $n$--manifold and let $M'=M\cup_\varphi H^\lambda$ be the result of an $n$--dimensional $\lambda$--handle attachment.
Note that the domain of $\varphi$ has the structure of a trivial $\mu$--disc bundle over $S^{\lambda-1}$ and, using the language of vector bundles, the image of $\varphi$ has the structure of a closed tubular neighbourhood of $f_0(S^{\lambda-1})=\varphi\comp z(S^{\lambda-1})$.
Our uniqueness theorems for tubular neighbourhoods tell us that the closed tubular neighbourhood
\[
	f:\D_{\pd M}f_0(S^{\lambda-1})\to\overline{\nu}_{\pd M}\,f_0(S^{\lambda-1})
\]
of $f_0(S^{\lambda-1})$ is unique up to ambient isotopy of the embedding $f_0$.
Thus, if we have an embedding $f_0:S^{\lambda-1}\to \pd M$ with trivial disc bundle, then a handle attachment can be defined using $f_0$ and an explicit embedding 
\[
	f: S^{\lambda-1}\times\D^\mu\to \D_{\pd M}\,f_0(S^{\lambda-1})
\]
for a closed tubular neighbourhood $\overline{\nu}_{\pd M}\,f_0(S^{\lambda-1})$.

In other words, the characteristics of handle attachment that fully describe the smooth $n$--manifold $M\cup_\varphi H^\lambda$ up to diffeomorphism are:
\begin{enumerate}
	\item the isotopy class of an embedding $f_0:S^{\lambda-1}\to\pd M$ with trivial normal disc bundle, and 
	\item the isotopy class of an identification of $S^{\lambda-1}\times\D^\mu$ with $\overline{\nu}_{\pd M}\,f_0(S^{\lambda-1})$.
\end{enumerate}

There is some specific language that is useful to the description of handle attachment.

\begin{defn}
	Let $M\cup_\varphi H^\lambda$ be an $n$--manifold with a $\lambda$--handle attached.
	The embedding $f_0:S^{\lambda-1}\to\pd M$ is called the \emph{attaching map}, its image $f_0(S^{\lambda-1})$ is the \emph{attaching sphere}, and its tubular neighbourhood is the \emph{attaching neighbourhood}.
	The embedding $f: S^{\lambda-1}\times \D^\mu\to \overline{\nu}_{\pd M}\,f_0(S^{\lambda-1})$ is called a \emph{normal framing} or just \emph{framing}.
	Inside of the $\lambda$--handle $H^\lambda=\D^\lambda\times\D^\mu$, the disc $\D^\lambda\times\{\vec{0}\}$ is the \emph{core}, and the disc $\{\vec{0}\}\times\D^\mu$ is the \emph{cocore}.
	The boundary circle $\{\vec{0}\}\times S^{\mu-1}$ of the cocore is the \emph{belt sphere}.
	The integer $\lambda$ is the \emph{index} of the handle.
\end{defn}

It is desirable to describe a manifold entirely via handle attachments.
For this we define the general notion of a decomposition.

\begin{defn}
	\label{def:morsehandle}
	Let $W$ be a compact $n$--manifold with boundary $M_0\sqcup M_1$, where $M_0$ and $M_1$ are smooth closed $(n-1)$--manifolds.
	Describe $W$ as a chain of inclusions
	\[
	M_0 \times\I = W_0 \subset W_1 \subset W_2 \subset \cdots \subset W_{k-1} \subset W_k = W
	\]
	where $W_i$ is obtained from $W_{i-1}$ by attaching a handle and $M_0$ is identified with $M_0\times \{0\}$.
	This is called a \emph{handle decomposition} of the pair $(W,M_0)$.
\end{defn}

\begin{defn}
	A connected manifold $M$ that has a handle decomposition consisting of exactly one 0--handle and $g$ 1--handles is called an \emph{$(m,1)$--handlebody} of \emph{genus} $g$.
	Let $V$ be a $(m,1)$--handlebody of genus $g$.
	A simple closed curve in $\pd V$ is called \emph{essential} if it is not homotopic to a point.
	A simple closed curve $J$ in $\pd V$ that is essential in $\pd V$ and that bounds a 2--disc in $V$ is called a \emph{meridian}.
	The properly embedded disc in $V$ that has boundary $J$ is called a \emph{meridinal disc}.
	
	The special case of the oriented genus 1 $(m,1)$--handlebody is called a \emph{solid torus}.
	More generally, any space that is homeomorphic to $S^1\times\D^{n-1}$ is called a \emph{solid $n$--torus}.
	In our most common case of $n=3$, we just say that $S^1\times\D^2$ is a \emph{solid torus}.
	A simple closed curve $J$ in the boundary of a solid torus that intersects a meridian at a single point is called a \emph{longitude}.
	A longitude is essential in a solid torus and there are infinitely many isotopy classes of longitudes, but there is exactly one isotopy class of meridians.
\end{defn}

\begin{defn}	
	Let $U$ and $V$ be 3--dimensional handlebodies of genus $g$ and let $f:\pd U\to \pd V$ be an orientation preserving diffeomorphism.
	The adjunction $M=U\cup_f V$ is a \emph{Heegaard splitting} of $M$, the shared boundary $H = \pd U = \pd V$ is the \emph{Heegaard surface} of the splitting, and the shared genus of $U$ and $V$ is the \emph{genus} of the splitting as well.
	A Heegaard splitting is also denoted by the pair $(M,H)$.
	
	We use the notion of equivalence between splittings from \cite{SchlWald}.
	A pair of splittings $(M,H)$ and $(M,H')$ are \emph{equivalent} if there is a homeomorphism $h:M\to M$ such that $h$ is isotopic to $\ident{M}$ and $\restr{h}{H}$ is an orientation preserving homeomorphism $H\to H'$.
\end{defn}

\begin{figure}
		\centering
		\caption{Genus 1 Heegaard splitting of $S^3$}
		\includegraphics[width=6in]{figures/genus1split.jpg}
		\label{fig:genus1split}
\end{figure}

\begin{ex}
	The 3--sphere $S^3$ has two standard Heegaard splittings.
	The first is the genus 0 splitting, usually realized by considering $S^3$ as the set of unit vectors in $\R^4$.
	Take the Heegaard surface to be the intersection of $S^3$ with the $xyz$--hyperplane in $\R^4$.
	This is a copy of $S^2$ that separates $S^3$ into two connected components.
	This splitting is written $(S^3,S^2)$
	
	The second is the genus 1 splitting, which is visualized using the realization of $S^3$ as the one--point compactification of $\R^3$.
	Take solid tori $U$ and $V$ and identify $\pd U$ with $\pd V$ by the homeomorphism that swaps a meridian with a longitude.
	The adjunction is $S^3$, and the pair of solid tori are displayed in Figure \ref{fig:genus1split}.
	This splitting is written $(S^3,T^2)$.
	This description of $S^3$ may also be obtained by examining the boundary of a 4--dimensional 2--handle $\pd (\DD\times\DD)$.
\end{ex}

\begin{defn}
	Let $(M,H)=U\cup_f V$ be a Heegaard splitting of $M$.
	The connected sum $(M,H)\#(S^3,T^2)$ is called an \emph{elementary stabilization} of $M$, and itself is a splitting $(M,H\#T^2)$.
	A Heegaard splitting $(M,H)$ is called a \emph{stabilization} of another splitting $(M,H')$ if it obtained from $(M,H')$ via a finite number of elementary stabilizations.
\end{defn}

Consider the meridians of the solid tori in the standard genus 1 splitting of $S^3$.
They each bound a disc in their respective handlebody, and they intersect in exactly one point.
We would expect to be able to find such curves in any 3--manifold obtained as a stabilization.
	
\begin{defn}	
	Let $(M,H)=U\cup_f V$ be a Heegaard splitting of genus $g$ and $\alpha$, $\beta$ a pair of simple, closed, essential curves in $H$.
	Let $\alpha$ be a meridian of $U$ and $\beta$ be a meridian of $V$ with associated meridinal discs $D_\alpha$, $D_\beta$.
	If $\alpha$ and $\beta$ intersect exactly once, then the pair $(\alpha,\beta)$ is a \emph{meridinal pair} or \emph{destabilizing pair} of the splitting.
\end{defn}

To see why $(\alpha,\beta)$ would be called a destabilizing pair, remove a tubular neighbourhood of $D_\alpha$ from $U$ and add it to $V$ as a 2--handle along a tubular neighbourhood of $\alpha$ in $H$.
In the proof of Waldhausen's Theorem it is shown that these altered spaces $U'$ and $V'$ are handlebodies of genus $g-1$ with $H'= \pd U' = \pd V'$, and $(M,H)$ is a stabilization $(M,H')\#(S^3,T^2)$.

\begin{theorem}[Waldhausen's theorem, \cite{SchlWald}]
	If $(S^3,H)$ and $(S^3,H')$ are Heegaard splittings of the same genus, then they are equivalent.
\end{theorem}

In the proof of Waldhausen's theorem, destabilizing pairs are identified and reduced.
We don't need the full power of Waldhausen's theorem, just a weaker version to use in Chapter \ref{cha:cobordisms}.

\begin{theorem}
	\label{thm:lilwald}
	Let $M$ be a closed, orientable 3--manifold with a Heegaard splitting $(M,H)$ of genus $g$.
	If there is a collection of $g$ disjoint destabilizing pairs in $H$, then $M$ is homeomorphic to $S^3$.
\end{theorem}

Heegaard splittings are a specific application of a specific type of handle decomposition.
General decompositions do not arise in this way.
They usually occur naturally by studying Morse functions as discussed in Chapter \ref{cha:cobordisms}.
More structure can be demanded out of a decomposition with handles of varying indices by isotoping attaching maps.

\begin{prop}[Proposition 4.2.7 of \cite{GompStip}]
	\label{prop:incrindex}
	Any handle decomposition of the compact pair $(W,M_0)$ can be modified so that handles are attached in order of increasing index.
	Handles of the same index can be attached in any order.	
\end{prop}

Because a $\lambda$--handle is also a $\mu$--handle of the same dimension, any handle decomposition actually defines a pair of dual decompositions.

\begin{defn}
	Let $W$ be a compact manifold with $\pd W = M_0 \sqcup M_1$ and handle decomposition
	\[
	M_0\times\I = W_0 \subset W_1 \subset W_2 \subset \cdots \subset W_{k-1} \subset W_k = W.
	\]
	By attaching a copy of $M_1 \times\I$ to $M_1$ and removing the collar $M_0\times\I$, we obtain a handle decomposition of the pair $(W,M_1)$.
	Each $\lambda$--handle in the decomposition of $(W,M_0)$ gives us a $\mu$--handle in the decomposition of $(W,M_1)$ that can be seen by reversing the roles of the core and cocore within the handle.
	The decomposition obtained is called the \emph{dual handle decomposition} of the pair $(W,M_1)$.
\end{defn}

Notice that if the handles of a decomposition are attached in order of increasing index, then the handles of the dual decomposition are as well.

There are two special cases of handle attachment to mention.
The first is 1--handle attachment, which reduces to investigating the orientations of the attaching maps.
The second is 4--dimensional 2--handle attachment, which reduces to identifying the homology class of a single oriented curve.

\begin{rmk}
	\label{rmk:1handle}
	Let $M$ be orientable and path--connected with $\pd M$ compact, connected, and nonempty.
	The attaching sphere of a 1--handle is $S^0=\pd \D^1$, which is a pair of points.
	There is a unique isotopy class of embeddings $f_0:S^0\to\pd M$.
	This means that $M\cup_\varphi H^1$ is determined entirely by the framing $f$.
	The normal disc bundle of $f_0(S^0)$ is a bundle over $S^0$, so it is vacuously trivial.
	Using the vector bundle structure of the tubular neighbourhood, we write an embedding of $S^0\times\D^{n-1}\to S^0\times\D^{n-1}$ as a pair of length--preserving linear transformations $\R^{n-1}\to\R^{n-1}$, i.e.\ elements of the orthogonal group $\orth{n-1}{\R}$, each restricted to act on one of the connected components of $S^0\times\D^{n-1}$.
	The determinant of an element of $\orth{n-1}{\R}$ is either $1$ or -$1$, and $\orth{n-1}{\R}$ has two path--connected components corresponding to these two cases.
	Every element of $\orth{n-1}{\R}$ is an embedding $\R^{n-1}\to\R^{n-1}$, so any path in $\orth{n-1}{\R}$ is an isotopy of its endpoints.
	It is then easy to see that are four isotopy classes of our trivialization, and those fall into two types.
	Either both transformations are are orientation preserving (reversing), or one is orientation preserving (reversing) and the other is orientation reversing (preserving).
	Under the first type of automorphism, $M\cup_\varphi H^1$ is a non-orientable manifold.
	Under the second, $M\cup_\varphi H^1$ is orientable.
\end{rmk}

Let $W$ be a 4--manifold with orientable boundary $M$.
To attach a 2--handle to $W$, we need an embedding $f_0:S^1\to M$ and a framing $S^1\times\D^2\to\overline{\nu}_{\pd M}f_0(S^1)$.
%Recall that the space $S^1\times D^2$ is what we call a solid torus.

Once an embedding $f_0:S^1\to M$ is chosen, $W\cup_\varphi H^2$ is determined by the framing $f:S^1\times \D^2\to \overline{\nu}_{\pd M}\,f(S^1)$.
To investigate possible framings, we consider the mapping class group of the solid torus.

\begin{defn}
	Let $X$ be a manifold and let $\Aut (X)$ be the group of automorphisms of $X$ (isomorphisms $X\to X$ under composition).
	Define an equivalence relation $\sim$ on $\Aut X$ by $f\sim g$ if $f$ is isotopic to $g$.
	The group $\Aut(X)/\sim$ is the \emph{mapping class group} of $X$ and is denoted $mpg(X)$.
\end{defn}

For $V$ a solid torus, $mpg(V)$ is very closely linked to the mapping class group of the torus $T^2 = S^1\times S^1=\pd V$, which is isomorphic to the special linear group $\textrm{SL}_2(\Z)$, the group of $2\times 2$ matrices with integer entries and determinant $\pm 1$.

Let $\pd V=S^1\times S^1=T^2$.
There is a well--defined group action of $mpg(T^2)$ on $H_1(T^2)=\Z\oplus\Z$.
We represent an element of $H_1(T^2)$ by $(\mu,\lambda)$ using the basis where $(1,0)$ represents the meridinal curve $S^1\to T^2$ defined by
\[
	e^{i\theta}\mapsto(e^{i\theta},1)
\]
and $(0,1)$ represents the longitudinal curve $S^1\to T^2$ defined by
\[
	e^{i\theta}\mapsto(1,e^{i\theta}).
\]
Then an element of $mpg(T^2)\cong \textrm{SL}_2(\Z)$ acts on an element of $H_1(T^2)$ by matrix multiplication on the right.

\begin{lem}
	Let $V$ be a solid torus and let $f$ be an automorphism of the torus $\pd V$.
	Then $f$ extends to an automorphism of $V$ if and only if $f$ maps a meridian to a meridian.	
\end{lem}

\begin{lem}
	A pair of automorphisms $f,g$ of $V$ that agree on $\pd V$ and map a meridian to a meridian are isotopic.	
\end{lem}

\begin{theorem}
	\label{thm:mpgV}
	The mapping class group of a solid torus $V$ is isomorphic to the subgroup of $\textrm{SL}_2(\Z)$ whose elements are of the form
	\[
		\begin{pmatrix}
			\:\:\pm 1 & k \\ 0 & 1\:\:
		\end{pmatrix}
		\textrm{ or }
		\begin{pmatrix}
			\:\:1 & k \\ 0 & \pm 1\:\:
		\end{pmatrix}.
	\]
\end{theorem}

\begin{proof}
	An element $F$ of $mpg(V)$ must restrict to an element $f$ of $mpg(\pd V)$.
	Because $f$ is an automorphism of $\pd V$ that extends to an automorphism of $V$, it sends a meridian to a meridian.
	In particular, $f$ is of the form
	\[
		\begin{pmatrix}
			\:\:1 & k \\ 0 & n\:\:
		\end{pmatrix}
		\textrm{ or }
		\begin{pmatrix}
			\:\:-1 & k \\ 0 & n\:\:
		\end{pmatrix}.
	\]
	Because $f\in\textrm{SL}_2(\Z)$, $n$ must be $\pm 1$.
	
	Conversely, every element $f$ in $mpg(\pd V)$ of the form
	\[
		\begin{pmatrix}
			\:\:\pm 1 & k \\ 0 & 1\:\:
		\end{pmatrix}
		\textrm{ or }
		\begin{pmatrix}
			\:\:1 & k \\ 0 & \pm 1\:\:
		\end{pmatrix}
	\]
	maps a meridian to a meridian, so $f$ extends to an automorphism $F$ of $V$.
\end{proof}

\begin{rmk}
	\label{rmk:2handle}
	Let $W$ be a 4--manifold with $\pd W=M$, let $f:S^1\times \D^2\to M$ be a handle attachment map, and let $V=f(S^1\times \D^2)$.
	
	Let $J$ be an oriented longitude in $V$ that we will call the \emph{preferred framing} of $V$, and let $[J]$ be the isotopy class of $J$.
	There is a class $[F]$ of orientation preserving automorphisms of $V$ in $mpg(V)$ mapping $[J]$ to $[f(S^1\times\{1\})]$.
	We represent $[F]$ by
	\[
		[F]=
		\begin{pmatrix}
			\:\:1 & k \\ 0 & 1\:\:
		\end{pmatrix},
	\]
	which is possible because $J$ is oriented and $[F]$ is orientation preserving.
	To sum up, any handle attachment is entirely determined by the embedding $f_0:S^1\to M$ and an integer $k$, provided the attachment is orientation preserving and we can define a preferred framing.
	We call the integer $k$ the \emph{framing coefficient} of the handle attachment.
	
	Sometimes, there is a canonical class of preferred framings.
	One important case is when $M$ is $S^3$.
	In this case, let $f_0:S^1\to S^3$ be an embedding and let $V$ be a solid torus that is a closed tubular neighbourhood of the knot $f_0(S^1)$ in $S^3$.
	There is exactly one isotopy class $[J]$ of longitudes of $V$, unique up to ambient isotopy of $f_0$, such that any curve in $[J]$ bounds a disc in $S^3\setminus V$.
	Any representative of $[J]$ can be taken as a preferred framing of $V$.
\end{rmk}
