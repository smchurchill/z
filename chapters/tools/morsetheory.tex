\label{sec:morsetheory}

Our primary use of Morse theory is to define a pair of related constructions.
The first is the handle decomposition of a manifold that is induced by a Morse function, and this decomposition comes with a dual decomposition.
The second is the \emph{Stein complex} of a Morse function on a manifold.
The main results from this chapter connect a Stein complex with a handle decomposition.
%, and this construction is extended to triangulations in the remaining chapter.

First, we define the concept of genericity.

\begin{defn}
	Let $X$ be a topological space, let $P$ be a property that an element of $X$ can possess, and let $X_P$ be the subset of elements of $X$ that possess property $P$.
	A property $P$ is \emph{stable} if, for any element $x$ in $X_P$, there is an open set $U$ of $X$ such that $x\in U$ and $U\subset X_P$.
	A property is \emph{generic} if $X_P$ is open and dense in $X$
\end{defn}

To discuss generic functions, we need to consider a function as an element of a topological space.
The standard topology to use for function spaces is the \emph{compact--open topology.}
If $C^\infty(X,M)$ is the set of smooth maps $X\to M$, then the open sets of the compact--open topology of $C^\infty(X,M)$ are the arbitrary unions of finite intersections of subsets of the form
\[
	V(K,U) = \{f|f(K)\subset U\}
\] 
where $K\subset X$ is compact and $U\subset M$ is open.

\begin{defn}
	A generic smooth function $f:M\to\R$ with $M$ an $n$--manifold is called a \emph{Morse function}.
	For a critical point $p\in M$ of $f$, the \emph{index} of $p$ is the dimension of the largest subspace of $T_p M$ such that $d^2f_p$ is negative definite.
	Less formally, this corresponds to the number of independent directions in $M$ along which $f$ decreases.
	We denote by $M^a$ the subspace $f\inv(-\infty,a\,]$ where $f$ is a fixed Morse function on $M$.
\end{defn}

We can expand the interpretation of the index of a critical point via the Morse lemma.

\begin{lem}[Lemma 2.2 of \cite{Miln63}]
  \label{lem:morselemma}
  Let $M$ be an $n$--manifold, let $f:M\to\R$ be a Morse function, and let $p$ be an index $i$ critical point of $f$.
  Then there exists a chart $(U,g=(\xi_0,\dots,\xi_{n-1}))$ around $p$ such that $\xi_j(p)=p_j=0$ for each $j$ and
  \[
    g(q) = g(p) - q_0^2 - \cdots - q_{i-1}^2 + q_i^2 + \cdots + q_{n-1}^2
  \]
  for each $q$ in $U$.
\end{lem}

A key question of Morse theory is how the topology of $M^a$ changes as $a$ passes the critical values of $f$.
This question is answered by the following two theorems.

\begin{theorem}[Theorem 3.1 of \cite{Miln63}]
	\label{thm:morseretract}
	Let $f:M\to\R$ be a Morse function with no critical values in $(a,b\,]$, $a<b$.
	If $f\inv[\,a,b\,]$ is compact, then $M^a$ and $M^b$ are diffeomorphic, and $M^b$ deformation retracts onto $M^a$.
\end{theorem}

\begin{theorem}[Theorem 3.2 of \cite{Miln63}]
	\label{thm:morsehandle}
	Let $f:M\to\R$ be a Morse function.
	Let $p$ be a critical point of $f$ of index $\lambda$ with associated critical value $f(p)=q$.
	If $f\inv[\,q-\varepsilon, q+\varepsilon\,]$ is compact and contains no critical points other than $p$, then $M^{q+\varepsilon}$ is diffeomorphic to $M^{q-\varepsilon}\cup_\varphi H^\lambda$ for some attaching map $\varphi:S^{\lambda-1}\times\D^\mu\to \pd(M^{q-\varepsilon})$.
\end{theorem}

Let $f:M\to\R$ be a Morse function on a closed $n$--manifold $M$.
If $f$ has critical points $\{p_1,\dots,p_k\}$ of indices $\{\lambda_1,\dots,\lambda_k\}$ such that
\[
	0\leq t_0 < f(p_1) < t_1 < f(p_2) < \cdots < t_{k-1} < f(p_k) < t_k \leq 1
\]
and
\[
	\lambda_1 \leq \lambda_2 \leq \cdots \leq \lambda_k,
\]
then Theorem \ref{thm:morsehandle} guarantees that, for each $i\geq 1$, $f\inv[\,t_{i-1},t_i\,]$ is diffeomorphic to $(f\inv(t_{i-1})\times\I)\cup H^{\lambda_i}$.
Such a Morse function then defines a handle decomposition
\[
	\emptyset = M_0 \subset M_1 \subset M_2 \subset \cdots \subset M_{k-1} \subset M_k = M
\]
where $M_i$ is obtained from $M_{i-1}$ by attaching a $\lambda_i$--handle, and the Morse function $1-f$ defines the dual decomposition.

Similar definitions can be made for manifolds with boundary.
Let $W$ be an $n$--manifold with boundary $\pd W = M_0\sqcup M_1$, where both $M_0$ and $M_1$ are compact.
The Morse functions on $W$ that extend Theorems \ref{thm:morseretract} and \ref{thm:morsehandle} are those that fix $f(M_0)=0$, $f(M_1)=1$.
Now, the handle decomposition of $W$ is built on top of the component $M_1\times\{1\}$ of $M_0\times\I$, with $M_0\times\{0\}$ corresponding to the boundary component $M_0$ in the finished product.

We use Stein factorizations and complexes to get our hands on explicit handle decompositions.

\begin{defn}
	\label{def:stein}
	A function $f:X\to Y$ is \emph{proper} if, for any compact subset $C\subset Y$, the preimage $f\inv(C)$ is compact in $X$.
	The \emph{Stein factorization} of a proper function $f$ is a decomposition of $f$ into $g\comp h$ with $$X\overset{h}{\to} S \overset{g}{\to} Y$$ such that $g$ is a finite--to--one map and $h$ has connected fibers.
	The intermediate space $S$ is called the \emph{Stein complex} of the factorization.
\end{defn}

The Stein complex of a proper function $f:X\to Y$ is the quotient space of $X$ by a particular relation $\sim$.
For a pair of points $x_1$, $x_2$ in $X$ with $f(x_1)=f(x_2)=y$, we define $x_1\sim x_2$ if $x_1$ and $x_2$ are in the same connected component of $f\inv(y)$.

The particulars of a Stein complex are explored in the next two sections, where our ultimate goal is to use the Stein complex as a set of instructions for constructing explicit cobordisms.
